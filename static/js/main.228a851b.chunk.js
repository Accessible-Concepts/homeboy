(this.webpackJsonphomeboy=this.webpackJsonphomeboy||[]).push([[0],{295:function(e,t,a){e.exports=a(623)},300:function(e,t,a){},301:function(e,t,a){},623:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(59),l=a.n(r),i=(a(300),a(11)),o=a(12),c=a(15),u=a(13),m=a(2),d=a(14),g=(a(301),a(302),a(212)),h=a(87),p=a(287),E=a(24),b=a(289),v=a(10),f=a(7),y=a(157),I=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("main",null,s.a.createElement(p.a,{className:"hero text-center"},s.a.createElement("h1",null,"Welcome to Homeboy - Your Building Management Buddy!"),s.a.createElement("p",null,"With our groundbreaking Homeowner Association Management System, communication between tenants and the homeowner association committee has never been easier!"),s.a.createElement("p",null,s.a.createElement(E.a,{href:"#/SignUp",variant:"primary",size:"lg",className:"px-5 py-2"},"Sign Up - It's Free!"))),s.a.createElement(y.a,{className:"featureWrapper text-center mt-4"},s.a.createElement("h2",null,"Love Thy Neighbor"),s.a.createElement("p",null,"Use Homeboy to make it good in the hood! We\u2019ve got the features you need to prevent gang fights and promote happy neighboring!"),s.a.createElement(b.a,null,s.a.createElement(f.a,{lg:4},s.a.createElement(v.a,null,s.a.createElement(v.a.Header,null,s.a.createElement(v.a.Title,null,"Issue Management")),s.a.createElement(v.a.Img,{variant:"top",src:"./images/issue-management.png"}),s.a.createElement(v.a.Body,null,s.a.createElement(v.a.Text,null,"Striving to achieve structured tracking for issues reported by homies?")),s.a.createElement(v.a.Footer,{className:"border-0"},s.a.createElement(E.a,{href:"#/Issues",variant:"primary",block:!0},"Make It Work")))),s.a.createElement(f.a,{lg:4},s.a.createElement(v.a,null,s.a.createElement(v.a.Header,null,s.a.createElement(v.a.Title,null,"Easy Messaging")),s.a.createElement(v.a.Img,{variant:"top",src:"./images/messaging.png"}),s.a.createElement(v.a.Body,null,s.a.createElement(v.a.Text,null,"Begging for homies to pay attention to messages from the building's committee?")),s.a.createElement(v.a.Footer,{className:"border-0"},s.a.createElement(E.a,{href:"#/Messages",variant:"primary",block:!0},"Make It Happen")))),s.a.createElement(f.a,{lg:4},s.a.createElement(v.a,null,s.a.createElement(v.a.Header,null,s.a.createElement(v.a.Title,null,"Open Voting")),s.a.createElement(v.a.Img,{variant:"top",src:"./images/voting.png"}),s.a.createElement(v.a.Body,null,s.a.createElement(v.a.Text,null,"Dreaming of improving the way financial decisions are made in your building?")),s.a.createElement(v.a.Footer,{className:"border-0"},s.a.createElement(E.a,{href:"#/Votings",variant:"primary",block:!0},"Make It Count")))))))}}]),t}(s.a.Component),C=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Home"},s.a.createElement(I,null))}}]),t}(s.a.Component),O=a(17),j=a(67),N=a(138);N.serverURL="https://parseapi.back4app.com",N.initialize("EjBHB6eHkPYe1zSnuvjLgLnAcimFgedDdkTQKKMp","x2qBBi1Ms1YMtws1NreUEgGsmFrrx13zuyZcxLRR");var k={GetUser:function(){return new N.User},SignUpCommitteeMember:function(e,t,a){e.set("isCommitteeMember",!0),e.signUp().then((function(e){t(e)})).catch((function(e){a(e)}))},CreateTenant:function(e,t,a){if(null!=N.User.current()&&N.User.current().get("isCommitteeMember")){var n=N.User.current().get("sessionToken");e.set("isCommitteeMember",!1),e.signUp().then((function(e){N.User.become(n).then((function(e){t(e)})).catch((function(e){a(e)}))})).catch((function(e){a(e)}))}else a(new Error("Not logged in as committee member."))},LogIn:function(e,t,a,n){N.User.logIn(e,t).then((function(e){a(e)})).catch((function(e){n(e)}))},LogOut:function(e,t){N.User.logOut().then((function(){e()})).catch((function(e){t(e)}))},GetAllUsers:function(e,t){var a=N.Object.extend("User");new N.Query(a).find().then((function(t){e(t)})).catch((function(e){t(e)}))},UpdateUser:function(e,t,a,n){var s=N.Object.extend("Tenant");new N.Query(s).get(e).then((function(e){e.set("createdBy",N.User.current()),e.set("username",t.get("username")),e.set("email",t.get("email")),e.set("apartment",t.get("apartment")),e.set("userImage",t.get("userImage")),e.save().then((function(e){a(e)}),(function(e){n(e)}))}))},FindUserByEmail:function(e,t,a){var n=N.Object.extend("User"),s=new N.Query(n);s.equalTo("email",e),s.find().then((function(e){t(e)})).catch((function(e){a(e)}))},FindUserById:function(e,t,a){var n=N.Object.extend("User"),s=new N.Query(n);s.equalTo("objectId",e),s.find().then((function(e){t(e)})).catch((function(e){a(e)}))},IsLoggedIn:function(){return null!=N.User.current()},GetCurrentUser:function(){return N.User.current()},GetCurrentUserName:function(){return null!=N.User.current()?N.User.current().get("username"):""},GetCurrentUserType:function(){var e=N.User.current();return null==e?null:e.get("isCommitteeMember")?"admin":"tenant"}},U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={username:"",email:"",password:"",community:"",address:"",validated:!1,signUpError:!1,errorMsg:""},a.handleNameChange=a.handleNameChange.bind(Object(m.a)(a)),a.handleEmailChange=a.handleEmailChange.bind(Object(m.a)(a)),a.handlePasswordChange=a.handlePasswordChange.bind(Object(m.a)(a)),a.handleCommunityChange=a.handleCommunityChange.bind(Object(m.a)(a)),a.handleAddressChange=a.handleAddressChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a.SignUp=a.SignUp.bind(Object(m.a)(a)),a.OnSignUpSuccess=a.OnSignUpSuccess.bind(Object(m.a)(a)),a.OnSignUpError=a.OnSignUpError.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleNameChange",value:function(e){var t=e.target.value;this.setState({username:t})}},{key:"handleEmailChange",value:function(e){var t=e.target.value;this.setState({email:t})}},{key:"handlePasswordChange",value:function(e){var t=e.target.value;this.setState({password:t})}},{key:"handleCommunityChange",value:function(e){var t=e.target.value;this.setState({community:t})}},{key:"handleAddressChange",value:function(e){var t=e.target.value;this.setState({address:t})}},{key:"OnSignUpSuccess",value:function(e){this.props.handleLogin()}},{key:"OnSignUpError",value:function(e){this.setState({errorMsg:e.message,signUpError:!0})}},{key:"SignUp",value:function(){var e=k.GetUser();e.set("username",this.state.username),e.set("email",this.state.email),e.set("password",this.state.password),e.set("communityName",this.state.community),e.set("address",this.state.address),k.SignUpCommitteeMember(e,this.OnSignUpSuccess,this.OnSignUpError)}},{key:"handleSubmit",value:function(e){var t=e.target;this.setState({validated:!0}),e.preventDefault(),e.stopPropagation(),!0===t.checkValidity()&&this.SignUp()}},{key:"render",value:function(){var e=s.a.createElement("div",{className:"SignUp"},s.a.createElement("h1",null,"Create a Homeboy Account"),s.a.createElement("p",null,"or ",s.a.createElement("a",{href:"#/Login"},"or log in to your account")),s.a.createElement(j.a,{variant:"danger",show:this.state.signUpError},this.state.errorMsg),s.a.createElement(O.a,{noValidate:!0,validated:this.state.validated,onSubmit:this.handleSubmit},s.a.createElement(O.a.Group,{controlId:"formBasicName"},s.a.createElement(O.a.Label,null,"Name"),s.a.createElement(O.a.Control,{type:"text",placeholder:"Enter name",onChange:this.handleNameChange,pattern:"[a-zA-Z]{4,0}",required:!0}),s.a.createElement(O.a.Control.Feedback,{type:"invalid"},"Please provide a valid name.")),s.a.createElement(O.a.Group,{controlId:"formBasicEmail"},s.a.createElement(O.a.Label,null,"Email address"),s.a.createElement(O.a.Control,{type:"email",placeholder:"Enter email",onChange:this.handleEmailChange,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{3,}$",required:!0}),s.a.createElement(O.a.Control.Feedback,{type:"invalid"},"Please provide a valid email."),s.a.createElement(O.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),s.a.createElement(O.a.Group,{controlId:"formBasicPassword"},s.a.createElement(O.a.Label,null,"Password"),s.a.createElement(O.a.Control,{type:"password",placeholder:"Password",onChange:this.handlePasswordChange,pattern:"(?=.*\\d)(?=.*[a-z]).{8,20}",required:!0}),s.a.createElement(O.a.Control.Feedback,{type:"invalid"},"Password must be 8-20 characters, contain lowercase letters and numbers, and no spaces, special characters, or emoji.")),s.a.createElement(O.a.Group,{controlId:"formBasicCommunity"},s.a.createElement(O.a.Label,null,"Building Community Name"),s.a.createElement(O.a.Control,{type:"text",placeholder:"Enter community name",onChange:this.handleCommunityChange,pattern:"[a-zA-Z0-9]{2,}",required:!0}),s.a.createElement(O.a.Control.Feedback,{type:"invalid"},"Please choose a name for your building.")),s.a.createElement(O.a.Group,{controlId:"formBasicAddress"},s.a.createElement(O.a.Label,null,"Full Address"),s.a.createElement(O.a.Control,{type:"text",placeholder:"Enter address",onChange:this.handleAddressChange,required:!0}),s.a.createElement(O.a.Control.Feedback,{type:"invalid"},"Address is a required field.")),s.a.createElement(E.a,{type:"submit",variant:"success",block:!0},"Create New Account")));return s.a.createElement("div",null,e)}}]),t}(s.a.Component),M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={email:"",password:"",validated:!1,loginError:!1,errorMsg:""},a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a.Login=a.Login.bind(Object(m.a)(a)),a.OnLoginSuccess=a.OnLoginSuccess.bind(Object(m.a)(a)),a.OnLoginError=a.OnLoginError.bind(Object(m.a)(a)),a.handleEmailChange=a.handleEmailChange.bind(Object(m.a)(a)),a.handlePasswordChange=a.handlePasswordChange.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleEmailChange",value:function(e){var t=e.target.value;this.setState({email:t})}},{key:"handlePasswordChange",value:function(e){var t=e.target.value;this.setState({password:t})}},{key:"OnLoginSuccess",value:function(e){this.props.handleLogin()}},{key:"OnLoginError",value:function(e){var t=e.message.replace("username","email");this.setState({errorMsg:t,loginError:!0})}},{key:"Login",value:function(){k.LogIn(this.state.email,this.state.password,this.OnLoginSuccess,this.OnLoginError)}},{key:"handleSubmit",value:function(e){var t=e.target;this.setState({validated:!0}),e.preventDefault(),e.stopPropagation(),!0===t.checkValidity()&&this.Login()}},{key:"render",value:function(){return s.a.createElement("div",{className:"Login"},s.a.createElement("h1",null,"Login to Homeboy"),s.a.createElement("p",null,"or ",s.a.createElement("a",{href:"#/SignUp"},"or create an account")),s.a.createElement(j.a,{variant:"danger",show:this.state.loginError},this.state.errorMsg),s.a.createElement(O.a,{noValidate:!0,validated:this.state.validated,onSubmit:this.handleSubmit},s.a.createElement(O.a.Group,{controlId:"formBasicEmail"},s.a.createElement(O.a.Label,null,"Email address"),s.a.createElement(O.a.Control,{type:"email",placeholder:"Enter email",autoComplete:"username",onChange:this.handleEmailChange,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{3,}$",required:!0}),s.a.createElement(O.a.Control.Feedback,{type:"invalid"})),s.a.createElement(O.a.Group,{controlId:"formBasicPassword"},s.a.createElement(O.a.Label,null,"Password"),s.a.createElement(O.a.Control,{type:"password",placeholder:"Password",autoComplete:"current-password",onChange:this.handlePasswordChange,pattern:"(?=.*\\d)(?=.*[a-z]).{8,20}",required:!0}),s.a.createElement(O.a.Control.Feedback,{type:"invalid"})),s.a.createElement(E.a,{variant:"success",type:"submit",block:!0},"Come On In!")))}}]),t}(s.a.Component),S=a(138);function T(e,t){var a=e.get("comments");null==a&&(a=[]);var n=w.GetComment();n.set("parentId",e.id),n.set("createdBy",S.User.current()),n.set("createdByUserName",S.User.current().get("username")),n.set("createdByUserImage",S.User.current().get("userImage")),n.set("text",t),a.push(n),e.set("comments",a)}S.serverURL="https://parseapi.back4app.com",S.initialize("EjBHB6eHkPYe1zSnuvjLgLnAcimFgedDdkTQKKMp","x2qBBi1Ms1YMtws1NreUEgGsmFrrx13zuyZcxLRR");var w={GetComment:function(){return new(S.Object.extend("Comment"))},GetCommentComments:function(e,t,a){var n=S.Object.extend("Comment");new S.Query(n).get(e).then((function(e){var a=e.get("comments");t(a)}),(function(e){a(e)}))},AddCommentToObject:function(e,t){T(e,t)},CommentComment:function(e,t,a,n){var s=S.Object.extend("Comment");new S.Query(s).get(e).then((function(e){T(e,t),e.save().then((function(e){a(e)}),(function(e){n(e)}))}))},GetObjectComments:function(e,t,a){var n=S.Object.extend("Comment"),s=new S.Query(n);s.equalTo("parentId",e),s.find().then((function(e){t(e)}),(function(e){a(e)}))}},L=w,x=a(138);x.serverURL="https://parseapi.back4app.com",x.initialize("EjBHB6eHkPYe1zSnuvjLgLnAcimFgedDdkTQKKMp","x2qBBi1Ms1YMtws1NreUEgGsmFrrx13zuyZcxLRR");var A={GetMessage:function(){return new(x.Object.extend("Message"))},CreateMessage:function(e,t,a){e.set("createdBy",x.User.current()),e.save().then((function(e){var a=e.id;t(a,e)}),(function(e){a(e)}))},GetAllMessages:function(e,t,a){var n=x.Object.extend("Message"),s=new x.Query(n);!0===e?(s.descending("priority"),s.addDescending("updatedAt")):s.descending("updatedAt"),s.find().then((function(e){t(e)}),(function(e){a(e)}))},UpdateMessage:function(e,t,a,n){var s=x.Object.extend("Message");new x.Query(s).get(e).then((function(e){e.set("createdBy",x.User.current()),e.set("title",t.get("title")),e.set("details",t.get("details")),e.set("priority",t.get("priority")),e.save().then((function(e){a(e)}),(function(e){n(e)}))}))},GetMessageComments:function(e,t,a){var n=x.Object.extend("Message");new x.Query(n).get(e).then((function(e){var a=e.get("comments");t(a)}),(function(e){a(e)}))},CommentMessage:function(e,t,a,n){var s=x.Object.extend("Message");new x.Query(s).get(e).then((function(e){L.AddCommentToObject(e,t),e.save().then((function(e){a(e)}),(function(e){n(e)}))}))},DeleteMessage:function(e,t,a){var n=x.Object.extend("Message");new x.Query(n).get(e).then((function(e){e.destroy().then((function(e){t(e)}),(function(e){}))}))}},G={UploadImage:function(e,t,a,n){var s=new XMLHttpRequest,r=new FormData;s.open("POST","https://api.cloudinary.com/v1_1/dybzbstoi/upload",!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.upload.addEventListener("progress",(function(e){var a=Math.round(100*e.loaded/e.total);null!==t&&t(a)})),s.onreadystatechange=function(e){if(4===s.readyState&&200===s.status){var t=JSON.parse(s.responseText);a(t.public_id)}else 200!==s.status&&n(s.status)};r.append("upload_preset","v2ugydrc"),r.append("tags","browser_upload"),r.append("file",e),s.send(r)},GetImageUrl:function(e){return null!==e&&""!==e&&void 0!==e?"http://res.cloudinary.com/dybzbstoi/image/upload/"+e+".jpg":null}},F=a(19),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a.onSortChange=a.onSortChange.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"onSortChange",value:function(e){var t=!1;t="priority"===e.target.value,this.props.handleSortChange(t)}},{key:"render",value:function(){var e="tenants"===this.props.filterType?"Filter by name, email or apartment":"Filter by title or details",t="messages"===this.props.filterType?s.a.createElement("select",{className:"browser-default custom-select mobile-center",onChange:this.props.handleFilterChange},s.a.createElement("option",{value:"12"},"Filter by priority"),s.a.createElement("option",{value:"1"},"Information"),s.a.createElement("option",{value:"2"},"Important")):"issues"===this.props.filterType?s.a.createElement("select",{className:"browser-default custom-select mobile-center",onChange:this.props.handleFilterChange},s.a.createElement("option",{value:"123"},"Filter by priority"),s.a.createElement("option",{value:"1"},"Normal"),s.a.createElement("option",{value:"2"},"Important"),s.a.createElement("option",{value:"3"},"Urgent")):null,a="messages"===this.props.filterType||"issues"===this.props.filterType?null:"hide",n="tenants"===this.props.filterType||"voting"===this.props.filterType?"12":"6";return s.a.createElement(y.a,{className:"NavBar"},s.a.createElement(F.a,null,s.a.createElement(f.a,{lg:n,className:"mobile-center pb-2"},s.a.createElement(F.a,{className:"border rounded justify-content-center"},s.a.createElement("div",{className:"col-auto px-0 d-flex align-items-center"},s.a.createElement("i",{className:"fas fa-search"})),s.a.createElement("div",{className:"col-11 px-0"},s.a.createElement(O.a.Control,{className:"border-0",type:"text",placeholder:e,onChange:this.props.handleFilterChange})))),s.a.createElement(f.a,{lg:3,className:"pr-0 select-wrapper mobile-center pb-2"},t),s.a.createElement(f.a,{lg:3,className:"px-0 text-right mobile-center pb-2 "+a},s.a.createElement("h6",{className:"d-inline-block align-middle mr-3"},"Sort by:"),s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio1",value:"date",defaultChecked:!0,onChange:this.onSortChange}),s.a.createElement("label",{className:"form-check-label",htmlFor:"inlineRadio1"},"Date")),s.a.createElement("div",{className:"form-check form-check-inline mr-0"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio2",value:"priority",onChange:this.onSortChange}),s.a.createElement("label",{className:"form-check-label",htmlFor:"inlineRadio2"},"Priority")))))}}]),t}(s.a.Component),P=a(20),B=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={comments:null,parentId:a.props.parentId},a.getUserImage=a.getUserImage.bind(Object(m.a)(a)),a.getCommentRows=a.getCommentRows.bind(Object(m.a)(a)),a.handleKeyPress=a.handleKeyPress.bind(Object(m.a)(a)),a.onGetAllCommentsSuccess=a.onGetAllCommentsSuccess.bind(Object(m.a)(a)),a.onGetAllCommentsError=a.onGetAllCommentsError.bind(Object(m.a)(a)),a.onAddCommentSuccess=a.onAddCommentSuccess.bind(Object(m.a)(a)),a.onAddCommentError=a.onAddCommentError.bind(Object(m.a)(a)),L.GetObjectComments(a.state.parentId,a.onGetAllCommentsSuccess,a.onGetAllCommentsError),a.commentInput=s.a.createRef(),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"onGetAllCommentsSuccess",value:function(e){this.setState({comments:e})}},{key:"onGetAllCommentsError",value:function(e){}},{key:"onAddCommentSuccess",value:function(e){this.commentInput.current.value="",L.GetObjectComments(this.state.parentId,this.onGetAllCommentsSuccess,this.onGetAllCommentsError)}},{key:"onAddCommentError",value:function(e){}},{key:"handleKeyPress",value:function(e){if("Enter"===e.key){var t=e.target.value;this.props.addComment(this.props.parentId,t,this.onAddCommentSuccess,this.onAddCommentError)}}},{key:"getUserImage",value:function(e){var t=e.get("createdByUserImage");return null==t?"./images/avatar-placeholder.gif":t}},{key:"getCommentRows",value:function(e){var t=this;return null===e?null:e.map((function(e,a){return s.a.createElement(F.a,{className:"Comment mt-4 my-2 mx-0",key:a},s.a.createElement(f.a,{lg:2,sm:2,xs:2,className:"p-0"},s.a.createElement("img",{className:"rounded-circle avatar",src:t.getUserImage(e),alt:"Avatar"})),s.a.createElement(f.a,{lg:10,sm:10,xs:10,className:"pl-0"},s.a.createElement("p",{className:"font-weight-bold m-0"},e.get("createdByUserName")),s.a.createElement("p",null,e.get("text"))))}))}},{key:"render",value:function(){var e=this.state.comments;return s.a.createElement("div",{className:"Comments"},s.a.createElement("h6",null,"Comments:"),this.getCommentRows(e),s.a.createElement(O.a.Control,{as:"textarea",rows:"3",ref:this.commentInput,placeholder:"Add a comment",className:"mt-4",onKeyPress:this.handleKeyPress}))}}]),t}(s.a.Component),R=a(138);R.serverURL="https://parseapi.back4app.com",R.initialize("EjBHB6eHkPYe1zSnuvjLgLnAcimFgedDdkTQKKMp","x2qBBi1Ms1YMtws1NreUEgGsmFrrx13zuyZcxLRR");var H={GetIssue:function(){return new(R.Object.extend("Issue"))},CreateIssue:function(e,t,a){e.set("createdBy",R.User.current()),e.set("comments",null),e.set("status","open"),e.save().then((function(e){var a=e.id;t(a,e)}),(function(e){a(e)}))},GetAllIssues:function(e,t,a){var n=R.Object.extend("Issue"),s=new R.Query(n);!0===e?(s.descending("priority"),s.addDescending("updatedAt")):s.descending("updatedAt"),s.find().then((function(e){t(e)}),(function(e){a(e)}))},UpdateIssue:function(e,t,a,n){var s=R.Object.extend("Issue");new R.Query(s).get(e).then((function(e){e.set("createdBy",R.User.current()),e.set("title",t.get("title")),e.set("details",t.get("details")),e.set("image",t.get("image")),e.set("priority",t.get("priority")),e.set("status",t.get("status")),e.save().then((function(e){a(e)}),(function(e){n(e)}))}))},GetIssueComments:function(e,t,a){var n=R.Object.extend("Issue");new R.Query(n).get(e).then((function(e){var a=e.get("comments");t(a)}),(function(e){a(e)}))},CommentIssue:function(e,t,a,n){var s=R.Object.extend("Issue");new R.Query(s).get(e).then((function(e){L.AddCommentToObject(e,t),e.save().then((function(e){a(e)}),(function(e){n(e)}))}))},DeleteIssue:function(e,t,a){var n=R.Object.extend("Issue");new R.Query(n).get(e).then((function(e){e.destroy().then((function(e){t(e)}),(function(e){}))}))}},V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={activeCardId:null},a.getPriorityIcon=a.getPriorityIcon.bind(Object(m.a)(a)),a.handleComment=a.addCommentHanlder.bind(Object(m.a)(a)),a.getAllComments=a.getAllComments.bind(Object(m.a)(a)),a.handleUpdateClick=a.handleUpdateClick.bind(Object(m.a)(a)),a.handleDeleteClick=a.handleDeleteClick.bind(Object(m.a)(a)),a.handleAccordionToggle=a.handleAccordionToggle.bind(Object(m.a)(a)),a.getToggleClass=a.getToggleClass.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getPriorityIcon",value:function(e){return"3"===e?"exclamation":"2"===e?"info":""}},{key:"getPriorityString",value:function(e){return"3"===e?"Urgent":"2"===e?"Important":"Normal"}},{key:"getCardImage",value:function(e){return""===e?"./images/placeholder-square.jpg":G.GetImageUrl(e)}},{key:"getAllComments",value:function(e,t,a){H.GetIssueComments(e,t,a)}},{key:"addCommentHanlder",value:function(e,t,a,n){H.CommentIssue(e,t,a,n)}},{key:"handleUpdateClick",value:function(e,t){this.props.openModal(e,t)}},{key:"handleDeleteClick",value:function(e){this.props.deleteIssue(e)}},{key:"getToggleClass",value:function(e){if(e.id===this.state.activeCardId)return"active"}},{key:"handleAccordionToggle",value:function(e){var t;t=e.id!==this.state.activeCardId?e.id:null,this.setState({activeCardId:t})}},{key:"render",value:function(){var e=this,t=this.props.records.map((function(t){return s.a.createElement(v.a,{key:t.id},s.a.createElement(P.a.Toggle,{as:v.a.Header,eventKey:t.id,className:e.getToggleClass(t),onClick:function(a){e.handleAccordionToggle(t)}},t.get("title"),P.a.Toggle.eventKey,s.a.createElement("i",{className:"fas fa-"+e.getPriorityIcon(t.get("priority"))+"-circle float-right"})),s.a.createElement(P.a.Collapse,{eventKey:t.id},s.a.createElement(v.a.Body,null,s.a.createElement(F.a,null,s.a.createElement(f.a,{className:"issue-box",lg:6},s.a.createElement(F.a,{className:"h-100"},s.a.createElement(f.a,{lg:4},s.a.createElement(v.a.Img,{className:"thumbnail",src:e.getCardImage(t.get("image"))})),s.a.createElement(f.a,{lg:8},s.a.createElement(v.a.Text,null,s.a.createElement("li",{className:"list-group-item"},s.a.createElement("span",{className:"font-weight-bold"},"Details: "),t.get("details")),s.a.createElement("li",{className:"list-group-item"},s.a.createElement("span",{className:"font-weight-bold"},"Priority: "),e.getPriorityString(t.get("priority"))),s.a.createElement("li",{className:"list-group-item"},s.a.createElement("span",{className:"font-weight-bold"},"Status: "),t.get("status")))))),s.a.createElement(f.a,{lg:4},s.a.createElement(F.a,null,s.a.createElement(f.a,null,s.a.createElement(B,{addComment:e.addCommentHanlder,parentId:t.id})))),s.a.createElement(f.a,{lg:2,className:"p-0 d-flex align-items-end justify-content-end pt-3"},s.a.createElement(F.a,{className:"w-100 mx-0 text-center"},s.a.createElement(f.a,{lg:6,className:"px-0 responsive-btn-wrapper"},s.a.createElement(E.a,{variant:"outline-dark",className:"m-0 responsive-btn",onClick:function(a){e.handleUpdateClick(a,t)}},"Update")),s.a.createElement(f.a,{lg:6,className:"px-0 responsive-btn-wrapper"},s.a.createElement(E.a,{variant:"danger",className:"m-0 responsive-btn",onClick:function(a){e.handleDeleteClick(t)}},"Delete"))))))))}));return s.a.createElement("div",{className:"IssuesAccordion"},s.a.createElement(P.a,null,t))}}]),t}(s.a.Component),z=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"DashboardNewIssuesAccordion"},s.a.createElement(P.a,null))}}]),t}(s.a.Component),q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={activeCardId:null},a.handleUpdateClick=a.handleUpdateClick.bind(Object(m.a)(a)),a.handleDeleteClick=a.handleDeleteClick.bind(Object(m.a)(a)),a.handleAccordionToggle=a.handleAccordionToggle.bind(Object(m.a)(a)),a.getToggleClass=a.getToggleClass.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getCardImage",value:function(e){return""===e?"./images/placeholder-square.jpg":G.GetImageUrl(e)}},{key:"handleUpdateClick",value:function(e,t){this.props.openModal(e,t)}},{key:"handleDeleteClick",value:function(e){this.props.deleteUser(e)}},{key:"getToggleClass",value:function(e){if(e.id===this.state.activeCardId)return"active"}},{key:"handleAccordionToggle",value:function(e){var t;t=e.id!==this.state.activeCardId?e.id:null,this.setState({activeCardId:t})}},{key:"render",value:function(){var e=this,t=this.props.records.map((function(t){return s.a.createElement(v.a,{key:t.id},s.a.createElement(P.a.Toggle,{as:v.a.Header,eventKey:t.id,className:e.getToggleClass(t),onClick:function(a){e.handleAccordionToggle(t)}},t.get("username"),P.a.Toggle.eventKey),s.a.createElement(P.a.Collapse,{eventKey:t.id},s.a.createElement(v.a.Body,null,s.a.createElement(F.a,null,s.a.createElement(f.a,{lg:10,className:"user-box"},s.a.createElement(F.a,{className:"h-100"},s.a.createElement(f.a,{lg:4},s.a.createElement(v.a.Img,{className:"thumbnail",src:e.getCardImage(t.get("userImage"))})),s.a.createElement(f.a,{lg:8},s.a.createElement(v.a.Text,null,s.a.createElement("li",{className:"list-group-item"},s.a.createElement("span",{className:"font-weight-bold"},"Name: "),t.get("username")),s.a.createElement("li",{className:"list-group-item"},s.a.createElement("span",{className:"font-weight-bold"},"Email: "),t.get("email")),s.a.createElement("li",{className:"list-group-item"},s.a.createElement("span",{className:"font-weight-bold"},"Apartment: "),t.get("apartment")))))),s.a.createElement(f.a,{lg:2,className:"p-0 d-flex align-items-end justify-content-end pt-3"},s.a.createElement(F.a,{className:"w-100 mx-0 text-center"},s.a.createElement(f.a,{lg:6,className:"px-0 responsive-btn-wrapper"},s.a.createElement(E.a,{variant:"outline-dark",className:"m-0 responsive-btn",onClick:function(a){e.handleUpdateClick(a,t)}},"Update")),s.a.createElement(f.a,{lg:6,className:"px-0 responsive-btn-wrapper"},s.a.createElement(E.a,{variant:"danger",className:"m-0 responsive-btn",onClick:function(a){e.handleDeleteClick(t)}},"Delete"))))))))}));return s.a.createElement("div",{className:"TenantsAccordion"},s.a.createElement(P.a,null,t))}}]),t}(s.a.Component),K=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={activeCardId:null},a.getPriorityIcon=a.getPriorityIcon.bind(Object(m.a)(a)),a.handleComment=a.addCommentHanlder.bind(Object(m.a)(a)),a.getAllComments=a.getAllComments.bind(Object(m.a)(a)),a.handleUpdateClick=a.handleUpdateClick.bind(Object(m.a)(a)),a.handleDeleteClick=a.handleDeleteClick.bind(Object(m.a)(a)),a.handleAccordionToggle=a.handleAccordionToggle.bind(Object(m.a)(a)),a.getToggleClass=a.getToggleClass.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getPriorityIcon",value:function(e){return"2"===e?"exclamation":"1"===e?"info":""}},{key:"getPriorityString",value:function(e){return"1"===e?"Information":"2"===e?"Important":void 0}},{key:"getCardImage",value:function(e){return""===e?"./images/placeholder-square.jpg":G.GetImageUrl(e)}},{key:"getAllComments",value:function(e,t,a){A.GetMessageComments(e,t,a)}},{key:"addCommentHanlder",value:function(e,t,a,n){A.CommentMessage(e,t,a,n)}},{key:"handleUpdateClick",value:function(e,t){this.props.openModal(e,t)}},{key:"handleDeleteClick",value:function(e){this.props.deleteMessage(e)}},{key:"getToggleClass",value:function(e){if(e.id===this.state.activeCardId)return"active"}},{key:"handleAccordionToggle",value:function(e){var t;t=e.id!==this.state.activeCardId?e.id:null,this.setState({activeCardId:t})}},{key:"render",value:function(){var e=this,t=this.props.records.map((function(t){return s.a.createElement(v.a,{key:t.id},s.a.createElement(P.a.Toggle,{as:v.a.Header,eventKey:t.id,className:e.getToggleClass(t),onClick:function(a){e.handleAccordionToggle(t)}},t.get("title"),P.a.Toggle.eventKey,s.a.createElement("i",{className:"fas fa-"+e.getPriorityIcon(t.get("priority"))+"-circle float-right"})),s.a.createElement(P.a.Collapse,{eventKey:t.id},s.a.createElement(v.a.Body,null,s.a.createElement(F.a,null,s.a.createElement(f.a,{className:"message-box",lg:6},s.a.createElement(F.a,{className:"h-100"},s.a.createElement(f.a,{lg:4},s.a.createElement(v.a.Img,{className:"thumbnail",src:e.getCardImage(t.get("image"))})),s.a.createElement(f.a,{lg:8},s.a.createElement(v.a.Text,null,s.a.createElement("li",{className:"list-group-item"},s.a.createElement("span",{className:"font-weight-bold"},"Details: "),t.get("details")),s.a.createElement("li",{className:"list-group-item"},s.a.createElement("span",{className:"font-weight-bold"},"Priority: "),e.getPriorityString(t.get("priority"))))))),s.a.createElement(f.a,{lg:4},s.a.createElement(F.a,null,s.a.createElement(f.a,null,s.a.createElement(B,{addComment:e.addCommentHanlder,parentId:t.id})))),s.a.createElement(f.a,{lg:2,className:"p-0 d-flex align-items-end justify-content-end pt-3"},s.a.createElement(F.a,{className:"w-100 mx-0 text-center"},s.a.createElement(f.a,{lg:6,className:"px-0 responsive-btn-wrapper"},s.a.createElement(E.a,{variant:"outline-dark",className:"m-0 responsive-btn",onClick:function(a){e.handleUpdateClick(a,t)}},"Update")),s.a.createElement(f.a,{lg:6,className:"px-0 responsive-btn-wrapper"},s.a.createElement(E.a,{variant:"danger",className:"m-0 responsive-btn",onClick:function(a){e.handleDeleteClick(t)}},"Delete"))))))))}));return s.a.createElement("div",{className:"MessagesAccordion"},s.a.createElement(P.a,null,t))}}]),t}(s.a.Component),Q=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"DashboardNewMessagesAccordion"},s.a.createElement(P.a,null,s.a.createElement(v.a,null,s.a.createElement(P.a.Toggle,{as:v.a.Header,eventKey:"0",className:"font-weight-bold"},"Dynamic Message Title With Dynamic Icon",s.a.createElement("i",{className:"fas fa-info-circle float-right"})),s.a.createElement(P.a.Collapse,{eventKey:"0"},s.a.createElement(v.a.Body,null,s.a.createElement(F.a,null,s.a.createElement(f.a,null,s.a.createElement(F.a,null,s.a.createElement(f.a,{lg:4},s.a.createElement(v.a.Img,{src:"https://upload.wikimedia.org/wikipedia/commons/9/92/Backyardpool.jpg"})),s.a.createElement(f.a,{lg:8},s.a.createElement(v.a.Text,null,s.a.createElement("li",{className:"list-group-item"},s.a.createElement("span",{className:"font-weight-bold"},"Details: "),"**Dynamic Content for message details**"),s.a.createElement("li",{className:"list-group-item"},s.a.createElement("span",{className:"font-weight-bold"},"Priority: "),"**Dynamic Content for message details**"))))))))),s.a.createElement(v.a,null,s.a.createElement(P.a.Toggle,{as:v.a.Header,eventKey:"1",className:"font-weight-bold"},"Dynamic Message Title With Dynamic Icon 2",s.a.createElement("i",{className:"fas fa-exclamation-circle float-right"})),s.a.createElement(P.a.Collapse,{eventKey:"1"},s.a.createElement(v.a.Body,null,s.a.createElement(F.a,null,s.a.createElement(f.a,null,s.a.createElement(F.a,null,s.a.createElement(f.a,{lg:4},s.a.createElement(v.a.Img,{src:"https://upload.wikimedia.org/wikipedia/commons/9/92/Backyardpool.jpg"})),s.a.createElement(f.a,{lg:8},s.a.createElement(v.a.Text,null,s.a.createElement("li",{className:"list-group-item"},s.a.createElement("span",{className:"font-weight-bold"},"Details: "),"**Dynamic Content for message details**"),s.a.createElement("li",{className:"list-group-item"},s.a.createElement("span",{className:"font-weight-bold"},"Priority: "),"**Dynamic Content for message details**")))))))))))}}]),t}(s.a.Component),_=a(89),Y=a.n(_),W=a(290),Z=a.n(W),$=(a(280),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=s.a.createElement(P.a,null,s.a.createElement(v.a,null,s.a.createElement(P.a.Toggle,{as:v.a.Header,eventKey:"0",className:"font-weight-bold"},s.a.createElement(F.a,null,s.a.createElement(f.a,{lg:6,className:"mobile-center"},"Dynamic Voting Title"),s.a.createElement(f.a,{lg:6,className:"text-right mobile-center"},"results"===this.props.votingStatus?s.a.createElement("h6",null,"Result: ",s.a.createElement("span",{className:"font-weight-normal"},"Dynamic record result")):null))),s.a.createElement(P.a.Collapse,{eventKey:"0"},s.a.createElement(v.a.Body,null,s.a.createElement(F.a,{className:"mx-0"},s.a.createElement(f.a,{lg:"results"===this.props.votingStatus?5:8,className:"px-0 d-flex flex-column justify-content-between"},s.a.createElement(F.a,{className:"py-1 mx-0 mobile-center"},s.a.createElement("h6",{className:"mr-1"},"Details:")," ",s.a.createElement("span",null,"*Dynamic Voting Details*")),s.a.createElement(F.a,{className:"py-1 mx-0 mobile-center"},s.a.createElement(f.a,{className:"px-0 d-flex align-items-center"},s.a.createElement("h6",{className:"mr-1"},"active"===this.props.votingStatus?"End Date":"Ended",":")," ",s.a.createElement("span",null,"*Date & Hour*")),"results"===this.props.votingStatus?null:s.a.createElement(f.a,{className:"tenant"===this.props.userType?"hide":"px-0"},s.a.createElement(Z.a,{placeholderText:"Update End Date",withPortal:!0,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:30,timeCaption:"time",dateFormat:"MMMM d, hh:mm"}))),s.a.createElement(F.a,{className:"results"===this.props.votingStatus||"admin"===this.props.userType?"hide":"py-1 mx-0 mobile-center"},s.a.createElement(f.a,{className:"px-0 d-flex align-items-center"},s.a.createElement(O.a.Group,{as:F.a,controlId:"formPrioritySelect",className:"vote-form mx-0 mobile-center w-100"},s.a.createElement(O.a.Label,{column:!0,lg:3},"Your Vote:"),s.a.createElement(f.a,{lg:5},s.a.createElement(O.a.Control,{required:!0,as:"select",className:"priority-select"},s.a.createElement("option",{value:"In Favor"},"In Favor"),s.a.createElement("option",{value:"Against"},"Against"))),s.a.createElement(f.a,{lg:4,className:"text-right mobile-center"},s.a.createElement(E.a,{type:"submit"},"Submit Vote")))))),s.a.createElement(f.a,{lg:"results"===this.props.votingStatus?7:4},s.a.createElement(F.a,null,"results"===this.props.votingStatus?s.a.createElement(f.a,{lg:6,className:"py-4-mobile"},s.a.createElement("h6",{className:"text-center mb-3"},"Results"),s.a.createElement(Y.a,{className:"chart",data:[{title:"For",value:80,color:"#90ee90"},{title:"Against",value:20,color:"#a2012c"}]})):null,s.a.createElement(f.a,null,s.a.createElement("h6",{className:"text-center mb-3"},"Voting Precentage"),s.a.createElement(Y.a,{className:"chart",data:[{title:"For",value:10,color:"#90ee90"},{title:"Against",value:15,color:"#a2012c"}]})))))))));return s.a.createElement("div",{className:"VotingsAccordion"},e)}}]),t}(s.a.Component)),J=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=s.a.createElement(P.a,null,s.a.createElement(v.a,null,s.a.createElement(P.a.Toggle,{as:v.a.Header,eventKey:"0",className:"font-weight-bold"},s.a.createElement(F.a,null,s.a.createElement(f.a,null,"Dynamic Voting Title"))),s.a.createElement(P.a.Collapse,{eventKey:"0"},s.a.createElement(v.a.Body,null,s.a.createElement(F.a,{className:"py-1 mx-0 mobile-center"},s.a.createElement(f.a,{lg:12,className:"px-0 d-flex align-items-center"},s.a.createElement(O.a.Group,{as:F.a,controlId:"formPrioritySelect",className:"vote-form mx-0 mobile-center w-100"},s.a.createElement(O.a.Label,{column:!0,lg:2},"Your Vote:"),s.a.createElement(f.a,{lg:5},s.a.createElement(O.a.Control,{required:!0,as:"select",className:"priority-select"},s.a.createElement("option",{value:"In Favor"},"In Favor"),s.a.createElement("option",{value:"Against"},"Against"))),s.a.createElement(f.a,{lg:5,className:"mobile-center text-left"},s.a.createElement(E.a,{type:"submit",className:"ml-2 responsive-btn"},"Submit Vote")))))))));return s.a.createElement("div",{className:"PendingVotingsAccordion"},e)}}]),t}(s.a.Component),X=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=s.a.createElement("div",null,function(){switch(e.props.recordType){case"issues":return s.a.createElement(V,{records:e.props.records,openModal:e.props.openModal,deleteIssue:e.props.deleteIssue});case"new issues":case"overdue issues":case"new resolved issues":return s.a.createElement(z,null);case"tenants":return s.a.createElement(q,{records:e.props.records,openModal:e.props.openModal,deleteUser:e.props.deleteUser});case"messages":return s.a.createElement(K,{records:e.props.records,openModal:e.props.openModal,deleteMessage:e.props.deleteMessage});case"new messages":return s.a.createElement(Q,null);case"active votings":return s.a.createElement($,{votingStatus:"active",userType:"tenant"});case"pending votings":return s.a.createElement(J,null);case"voting results":return s.a.createElement($,{votingStatus:"results"});default:return null}}());return s.a.createElement("div",{className:"Records"},t)}}]),t}(s.a.Component),ee=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("p",{className:"noRecordsMsg"},"There are no ",this.props.recordType,". :)")}}]),t}(s.a.Component),te=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.hasRecords?s.a.createElement("div",{className:"recordsDisplay"},s.a.createElement(X,{recordType:this.props.recordType,records:this.props.records,openModal:this.props.openModal,deleteIssue:this.props.deleteIssue,deleteMessage:this.props.deleteMessage,deleteUser:this.props.deleteUser})):s.a.createElement(ee,{recordType:this.props.recordType})}}]),t}(s.a.Component),ae=a(629),ne=a(628),se=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={messages:null,hasRecords:null,filter:{inputFilter:"",selectFilter:"123"},filteredMessages:null,showModal:!1,currentMessageId:null,currentMessageTitle:null,currentMessageDetails:null,currentMessagePriority:null,currentMessageImage:null,modalTrigger:null,showStatusSelect:"hide",validated:!1,messageError:!1,errorMsg:"",sortByPriority:!1},a.onGetAllMessagesSuccess=a.onGetAllMessagesSuccess.bind(Object(m.a)(a)),a.onGetAllMessagesError=a.onGetAllMessagesError.bind(Object(m.a)(a)),a.filterMessages=a.filterMessages.bind(Object(m.a)(a)),a.onCreateMessageSuccess=a.onCreateMessageSuccess.bind(Object(m.a)(a)),a.onCreateMessageError=a.onCreateMessageError.bind(Object(m.a)(a)),a.onImageUploadSuccess=a.onImageUploadSuccess.bind(Object(m.a)(a)),a.onImageUploadError=a.onImageUploadError.bind(Object(m.a)(a)),a.onImageUploadProgress=a.onImageUploadProgress.bind(Object(m.a)(a)),a.openModal=a.openModal.bind(Object(m.a)(a)),a.closeModal=a.closeModal.bind(Object(m.a)(a)),a.createMessage=a.createMessage.bind(Object(m.a)(a)),a.updateMessage=a.updateMessage.bind(Object(m.a)(a)),a.onDeleteMessageError=a.onDeleteMessageError.bind(Object(m.a)(a)),a.onDeleteMessageSuccess=a.onDeleteMessageSuccess.bind(Object(m.a)(a)),a.deleteMessage=a.deleteMessage.bind(Object(m.a)(a)),a.imgChange=a.imgChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a.handleFilterChange=a.handleFilterChange.bind(Object(m.a)(a)),a.handleSortChange=a.handleSortChange.bind(Object(m.a)(a)),a.titleInput=s.a.createRef(),a.detailsInput=s.a.createRef(),a.priorityInput=s.a.createRef(),a.imgInput=s.a.createRef(),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){A.GetAllMessages(this.state.sortByPriority,this.onGetAllMessagesSuccess,this.onGetAllMessagesError)}},{key:"checkCurrentMessage",value:function(e,t,a,n){return e.selectFilter.indexOf(n)>-1&&(""!==e.inputFilter&&(t.indexOf(e.inputFilter)>-1||a.indexOf(e.inputFilter)>-1)||""===e.inputFilter)}},{key:"filterMessages",value:function(e,t,a){for(var n=0;n<t.length;n++){var s=t[n].get("title").toUpperCase(),r=t[n].get("details").toUpperCase(),l=t[n].get("priority").toUpperCase();this.checkCurrentMessage(e,s,r,l)&&a.push(t[n])}}},{key:"handleFilterChange",value:function(e){var t;t=e.target;var a=this.state.filter.inputFilter,n=this.state.filter.selectFilter,s=[];"INPUT"===t.tagName?a=t.value.toUpperCase():"SELECT"===t.tagName&&(n=t.value);var r={inputFilter:a,selectFilter:n};this.setState({filter:r}),this.filterMessages(r,this.state.messages,s),this.setState({filteredMessages:s})}},{key:"handleSortChange",value:function(e){this.setState({sortByPriority:e}),A.GetAllMessages(e,this.onGetAllMessagesSuccess,this.onGetAllMessagesError)}},{key:"onImageUploadSuccess",value:function(e){var t=e;this.setState({currentMessageImage:t})}},{key:"onImageUploadError",value:function(e){}},{key:"onImageUploadProgress",value:function(e){document.getElementById("image_progress").innerHTML=e<100?"Image Uploading: "+e+"%":"Image Uploaded Successfully"}},{key:"imgChange",value:function(e){var t={};t.file=e.target.files[0],t.file?G.UploadImage(t.file,this.onImageUploadProgress,this.onImageUploadSuccess,this.onImageUploadError):t.URL=""}},{key:"handleSubmit",value:function(e){var t=e.target;this.setState({validated:!0}),e.preventDefault(),e.stopPropagation(),!0===t.checkValidity()&&("New Message"===this.state.modalTrigger?this.createMessage():this.updateMessage())}},{key:"openModal",value:function(e,t){var a,n,s=e.target.innerHTML,r="",l="",i="",o="";"Update"===s?(s="Update Message",a="show",r=t.get("title"),l=t.get("details"),i=t.get("priority"),o=t.get("image"),n=t.id):a="hide",this.setState({showModal:!0,showStatusSelect:a,modalTrigger:s,currentMessageId:n,currentMessageTitle:r,currentMessageDetails:l,currentMessagePriority:i,currentMessageImage:o})}},{key:"closeModal",value:function(){this.setState({currentMessageId:null,currentMessageImage:null,showModal:!1,validated:!1,messageError:!1})}},{key:"onCreateMessageSuccess",value:function(e,t){A.GetAllMessages(this.state.sortByPriority,this.onGetAllMessagesSuccess,this.onGetAllMessagesError)}},{key:"onCreateMessageError",value:function(e){}},{key:"createMessage",value:function(){var e=A.GetMessage();e.set("title",this.titleInput.current.value),e.set("details",this.detailsInput.current.value),e.set("priority",this.priorityInput.current.value),e.set("image",this.state.currentMessageImage),A.CreateMessage(e,this.onCreateMessageSuccess,this.onCreateMessageError),this.closeModal()}},{key:"updateMessage",value:function(){var e=A.GetMessage();e.set("title",this.titleInput.current.value),e.set("details",this.detailsInput.current.value),e.set("priority",this.priorityInput.current.value),e.set("image",this.state.currentMessageImage),A.UpdateMessage(this.state.currentMessageId,e,this.onCreateMessageSuccess,this.onCreateMessageError),this.closeModal()}},{key:"onDeleteMessageSuccess",value:function(e,t){A.GetAllMessages(this.state.sortByPriority,this.onGetAllMessagesSuccess,this.onGetAllMessagesError)}},{key:"onDeleteMessageError",value:function(e){}},{key:"deleteMessage",value:function(e){A.DeleteMessage(e.id,this.onDeleteMessageSuccess,this.onDeleteMessageError),this.closeModal()}},{key:"onGetAllMessagesSuccess",value:function(e){var t=[],a=!1;e.length>0&&(a=!0),null!==this.state.filter&&this.filterMessages(this.state.filter,e,t),this.setState({messages:e,filteredMessages:t,hasRecords:a})}},{key:"onGetAllMessagesError",value:function(e){}},{key:"render",value:function(){var e=null;e=null==this.state.messages?"Loading...":s.a.createElement(te,{hasRecords:this.state.hasRecords,recordType:"messages",records:this.state.filteredMessages,openModal:this.openModal,deleteMessage:this.deleteMessage});var t=this.state,a=t.showModal,n=t.currentMessageImage,r=""===n?"./images/placeholder-square.jpg":G.GetImageUrl(n),l="New Message"===this.state.modalTrigger?s.a.createElement(E.a,{variant:"primary",type:"submit"},"Create Message"):s.a.createElement(E.a,{variant:"primary",type:"submit"},"Update Message");return s.a.createElement("div",{className:"Messages h-100"},s.a.createElement(y.a,{className:"py-6 px-5 mobile-padding"},s.a.createElement(D,{filterType:"messages",handleFilterChange:this.handleFilterChange,handleSortChange:this.handleSortChange}),s.a.createElement("div",{className:"text-right pt-4 pb-1 mobile-center"},s.a.createElement(E.a,{variant:"link",className:"new-btn",onClick:this.openModal},"New Message")),e),s.a.createElement(ae.a,{show:a,onHide:this.closeModal,size:"lg"},s.a.createElement(O.a,{className:"messageModalFrm",noValidate:!0,validated:this.state.validated,onSubmit:this.handleSubmit},s.a.createElement(ae.a.Header,{closeButton:!0},s.a.createElement(ae.a.Title,null,this.state.modalTrigger)),s.a.createElement(ae.a.Body,null,s.a.createElement(j.a,{variant:"danger",show:this.state.messageError},this.state.errorMsg),s.a.createElement(O.a.Group,{as:F.a,controlId:"formNameTxt"},s.a.createElement(O.a.Label,{column:!0,sm:2},"Title:"),s.a.createElement(f.a,{sm:10},s.a.createElement(O.a.Control,{type:"text",ref:this.titleInput,defaultValue:this.state.currentMessageTitle,pattern:"([a-zA-Z0-9]{1,20}\\s?){1,10}",required:!0}),s.a.createElement(O.a.Control.Feedback,{type:"invalid"}))),s.a.createElement(O.a.Group,{as:F.a,controlId:"formDetailsTxt"},s.a.createElement(O.a.Label,{column:!0,sm:2},"Details:"),s.a.createElement(f.a,{sm:10},s.a.createElement(O.a.Control,{ref:this.detailsInput,defaultValue:this.state.currentMessageDetails,as:"textarea",rows:"3"}),s.a.createElement(O.a.Control.Feedback,{type:"invalid"}))),s.a.createElement(O.a.Group,{as:F.a,controlId:"formPrioritySelect"},s.a.createElement(O.a.Label,{column:!0,sm:2},"Priority:"),s.a.createElement(f.a,{sm:10},s.a.createElement(O.a.Control,{ref:this.priorityInput,defaultValue:this.state.currentMessagePriority,as:"select",className:"priority-select",required:!0},s.a.createElement("option",{value:"1"},"Information"),s.a.createElement("option",{value:"2"},"Important")))),s.a.createElement(O.a.Group,{as:F.a,controlId:"formImgControl",className:"align-items-center"},s.a.createElement(O.a.Label,{column:!0,sm:2},"Image URL:"),s.a.createElement(f.a,{sm:7},s.a.createElement("div",{className:"custom-file"},s.a.createElement("input",{ref:this.imgInput,type:"file",className:"custom-file-input",id:"customFile",accept:"image/*",onChange:this.imgChange}),s.a.createElement("p",{id:"image_progress"}),s.a.createElement("label",{className:"custom-file-label",htmlFor:"customFile"},"Choose image"))),s.a.createElement(f.a,{sm:3},s.a.createElement(ne.a,{src:r,fluid:!0,className:"thumbnail"})))),s.a.createElement(ae.a.Footer,null,s.a.createElement(E.a,{variant:"secondary",onClick:this.closeModal},"Close"),l))))}}]),t}(s.a.Component),re=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={users:null,hasRecords:null,filter:{inputFilter:""},filteredUsers:null,showModal:!1,currentUserId:null,currentUserName:null,currentUserEmail:null,currentUserApt:null,modalTrigger:null,showStatusSelect:"hide",validated:!1,userError:!1,errorMsg:"",sortByPriority:!1},a.onGetAllUsersSuccess=a.onGetAllUsersSuccess.bind(Object(m.a)(a)),a.onGetAllUsersError=a.onGetAllUsersError.bind(Object(m.a)(a)),a.filterUsers=a.filterUsers.bind(Object(m.a)(a)),a.onCreateTenantSuccess=a.onCreateTenantSuccess.bind(Object(m.a)(a)),a.onCreateTenantError=a.onCreateTenantError.bind(Object(m.a)(a)),a.onImageUploadSuccess=a.onImageUploadSuccess.bind(Object(m.a)(a)),a.onImageUploadError=a.onImageUploadError.bind(Object(m.a)(a)),a.onImageUploadProgress=a.onImageUploadProgress.bind(Object(m.a)(a)),a.openModal=a.openModal.bind(Object(m.a)(a)),a.closeModal=a.closeModal.bind(Object(m.a)(a)),a.createTenant=a.createTenant.bind(Object(m.a)(a)),a.updateUser=a.updateUser.bind(Object(m.a)(a)),a.onDeleteUserError=a.onDeleteUserError.bind(Object(m.a)(a)),a.onDeleteUserSuccess=a.onDeleteUserSuccess.bind(Object(m.a)(a)),a.deleteUser=a.deleteUser.bind(Object(m.a)(a)),a.imgChange=a.imgChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a.handleFilterChange=a.handleFilterChange.bind(Object(m.a)(a)),a.nameInput=s.a.createRef(),a.emailInput=s.a.createRef(),a.aptInput=s.a.createRef(),a.imgInput=s.a.createRef(),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){k.GetAllUsers(this.onGetAllUsersSuccess,this.onGetAllUsersError)}},{key:"checkCurrentUser",value:function(e,t,a,n){return""!==e.inputFilter&&(t.indexOf(e.inputFilter)>-1||a.indexOf(e.inputFilter)>-1||n.indexOf(e.inputFilter)>-1)||""===e.inputFilter}},{key:"filterUsers",value:function(e,t,a){for(var n=0;n<t.length;n++){var s=t[n].get("username").toUpperCase(),r=t[n].get("email").toUpperCase(),l=t[n].get("apartment").toUpperCase();this.checkCurrentUser(e,s,r,l)&&a.push(t[n])}}},{key:"handleFilterChange",value:function(e){var t;t=e.target;var a=this.state.filter.inputFilter,n=[];"INPUT"===t.tagName&&(a=t.value.toUpperCase());var s={inputFilter:a};this.setState({filter:s}),this.filterUsers(s,this.state.users,n),this.setState({filteredUsers:n})}},{key:"onImageUploadSuccess",value:function(e){var t=e;this.setState({currentUserImage:t})}},{key:"onImageUploadError",value:function(e){}},{key:"onImageUploadProgress",value:function(e){document.getElementById("image_progress").innerHTML=e<100?"Image Uploading: "+e+"%":"Image Uploaded Successfully"}},{key:"imgChange",value:function(e){var t={};t.file=e.target.files[0],t.file?G.UploadImage(t.file,this.onImageUploadProgress,this.onImageUploadSuccess,this.onImageUploadError):t.URL=""}},{key:"handleSubmit",value:function(e){var t=e.target;this.setState({validated:!0}),e.preventDefault(),e.stopPropagation(),!0===t.checkValidity()&&("New Tenant"===this.state.modalTrigger?this.createTenant():this.updateUser())}},{key:"openModal",value:function(e,t){var a,n,s=e.target.innerHTML,r="",l="",i="",o="";"Update"===s?(s="Update User",a="show",r=t.get("username"),l=t.get("email"),i=t.get("apartment"),o=t.get("userImage"),n=t.id):a="hide",this.setState({showModal:!0,showStatusSelect:a,modalTrigger:s,currentUserId:n,currentUserName:r,currentUserEmail:l,currentUserApt:i,currentUserImage:o})}},{key:"closeModal",value:function(){this.setState({currentUserId:null,currentUserImage:null,showModal:!1,validated:!1,UserError:!1})}},{key:"onCreateTenantSuccess",value:function(e,t){k.GetAllUsers(this.onGetAllUsersSuccess,this.onGetAllUsersError)}},{key:"onCreateTenantError",value:function(e){}},{key:"createTenant",value:function(){var e=k.GetUser();e.set("username",this.nameInput.current.value),e.set("email",this.emailInput.current.value),e.set("apartment",this.aptInput.current.value),e.set("userImage",this.state.currentUserImage),k.CreateTenant(e,this.onCreateTenantSuccess,this.onCreateTenantError),this.closeModal()}},{key:"updateUser",value:function(){var e=k.GetUser();e.set("username",this.nameInput.current.value),e.set("email",this.emailInput.current.value),e.set("apartment",this.aptInput.current.value),e.set("userImage",this.state.currentUserImage),k.UpdateUser(this.state.currentUserId,e,this.onCreateTenantSuccess,this.onCreateTenantError),this.closeModal()}},{key:"onDeleteUserSuccess",value:function(e,t){k.GetAllUsers(this.onGetAllUsersSuccess,this.onGetAllUsersError)}},{key:"onDeleteUserError",value:function(e){}},{key:"deleteUser",value:function(e){k.DeleteUser(e.id,this.onDeleteUserSuccess,this.onDeleteUserError),this.closeModal()}},{key:"onGetAllUsersSuccess",value:function(e){console.log("get all users success"),console.log(e.length);var t=[],a=!1;e.length>0&&(a=!0,console.log(a)),null!==this.state.filter&&this.filterUsers(this.state.filter,e,t),this.setState({users:e,filteredUsers:t,hasRecords:a})}},{key:"onGetAllUsersError",value:function(e){}},{key:"render",value:function(){var e=null;e=null==this.state.users?"Loading...":s.a.createElement(te,{hasRecords:this.state.hasRecords,recordType:"tenants",records:this.state.filteredUsers,openModal:this.openModal,deleteUser:this.deleteUser});var t=this.state,a=t.showModal,n=t.currentUserImage,r=""===n?"./images/placeholder-square.jpg":G.GetImageUrl(n),l="New Tenant"===this.state.modalTrigger?s.a.createElement(E.a,{variant:"primary",type:"submit"},"Create Tenant"):s.a.createElement(E.a,{variant:"primary",type:"submit"},"Update Tenant");return s.a.createElement("div",{className:"Tenants h-100"},s.a.createElement(y.a,{className:"py-6 px-5 mobile-padding"},s.a.createElement(D,{filterType:"tenants",handleFilterChange:this.handleFilterChange}),s.a.createElement("div",{className:"text-right pt-4 pb-1 mobile-center"},s.a.createElement(E.a,{variant:"link",className:"new-btn",onClick:this.openModal},"New Tenant")),e),s.a.createElement(ae.a,{show:a,onHide:this.closeModal,size:"lg"},s.a.createElement(O.a,{className:"userModalFrm",noValidate:!0,validated:this.state.validated,onSubmit:this.handleSubmit},s.a.createElement(ae.a.Header,{closeButton:!0},s.a.createElement(ae.a.Title,null,this.state.modalTrigger)),s.a.createElement(ae.a.Body,null,s.a.createElement(j.a,{variant:"danger",show:this.state.userError},this.state.errorMsg),s.a.createElement(O.a.Group,{as:F.a,controlId:"formNameTxt"},s.a.createElement(O.a.Label,{column:!0,sm:2},"Name:"),s.a.createElement(f.a,{sm:10},s.a.createElement(O.a.Control,{type:"text",ref:this.nameInput,defaultValue:this.state.currentUserName,placeholder:"Enter tenant's name",pattern:"([a-zA-Z0-9]{1,20}\\s?){1,10}",required:!0}),s.a.createElement(O.a.Control.Feedback,{type:"invalid"}))),s.a.createElement(O.a.Group,{as:F.a,controlId:"formEmailTxt"},s.a.createElement(O.a.Label,{column:!0,sm:2},"Email:"),s.a.createElement(f.a,{sm:10},s.a.createElement(O.a.Control,{type:"text",ref:this.emailInput,defaultValue:this.state.currentUserEmail,placeholder:"Enter tenant's email",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{3,}$",required:!0}),s.a.createElement(O.a.Control.Feedback,{type:"invalid"}))),s.a.createElement(O.a.Group,{as:F.a,controlId:"formAptTxt"},s.a.createElement(O.a.Label,{column:!0,sm:2},"Apartment:"),s.a.createElement(f.a,{sm:10},s.a.createElement(O.a.Control,{type:"text",ref:this.aptInput,defaultValue:this.state.currentUserApt,placeholder:"Enter tenant's apartment",pattern:"([a-zA-Z0-9]{1,20}\\s?){1,5}",required:!0}))),s.a.createElement(O.a.Group,{as:F.a,controlId:"formImgControl",className:"align-items-center"},s.a.createElement(O.a.Label,{column:!0,sm:2},"Image URL:"),s.a.createElement(f.a,{sm:7},s.a.createElement("div",{className:"custom-file"},s.a.createElement("input",{ref:this.imgInput,type:"file",className:"custom-file-input",id:"customFile",accept:"image/*",onChange:this.imgChange}),s.a.createElement("p",{id:"image_progress"}),s.a.createElement("label",{className:"custom-file-label",htmlFor:"customFile"},"Choose image"))),s.a.createElement(f.a,{sm:3},s.a.createElement(ne.a,{src:r,fluid:!0,className:"thumbnail"})))),s.a.createElement(ae.a.Footer,null,s.a.createElement(E.a,{variant:"secondary",onClick:this.closeModal},"Close"),l))))}}]),t}(s.a.Component),le=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={activePage:1,totalItemsCount:14},a.handlePageChange=a.handlePageChange.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handlePageChange",value:function(e){var t=parseInt(e.target.innerHTML),a=this.state.activePage;isNaN(t)?(console.log("Not a number "+t),(t=e.target.innerText).includes("\u2039")?(console.log("Previous"),a--):t.includes("\u203a")&&(console.log("Next"),a++)):(console.log("number "+t),a=t),console.log("active page is "+a),console.log(this.state.activePage),this.setState({activePage:a}),console.log(this.state.activePage)}},{key:"render",value:function(){return s.a.createElement("div",{className:"Votings h-100"},s.a.createElement(y.a,{fluid:!0,className:"py-6 px-5 mobile-padding"},s.a.createElement(F.a,null,s.a.createElement(f.a,{lg:6,className:"issue-box"},s.a.createElement("h2",null,"Active Votings"),s.a.createElement("div",{className:"text-right pt-4 pb-1 mobile-center"},s.a.createElement(E.a,{variant:"link",className:"new-btn"},"New Voting")),s.a.createElement(te,{hasRecords:!0,recordType:"active votings"})),s.a.createElement(f.a,{lg:6},s.a.createElement("h2",null,"Voting Results"),s.a.createElement(D,{filterType:"voting",handleFilterChange:this.handleFilterChange}),s.a.createElement(te,{hasRecords:!0,recordType:"voting results"})))))}}]),t}(s.a.Component),ie=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={issues:null,hasRecords:null,filter:{inputFilter:"",selectFilter:"123"},filteredIssues:null,showModal:!1,currentIssueId:null,currentIssueTitle:null,currentIssueDetails:null,currentIssuePriority:null,currentIssueImage:null,currentIssueStatus:null,modalTrigger:null,showStatusSelect:"hide",validated:!1,issueError:!1,errorMsg:"",sortByPriority:!1},a.onGetAllIssuesSuccess=a.onGetAllIssuesSuccess.bind(Object(m.a)(a)),a.onGetAllIssuesError=a.onGetAllIssuesError.bind(Object(m.a)(a)),a.filterIssues=a.filterIssues.bind(Object(m.a)(a)),a.onCreateIssueSuccess=a.onCreateIssueSuccess.bind(Object(m.a)(a)),a.onCreateIssueError=a.onCreateIssueError.bind(Object(m.a)(a)),a.onImageUploadSuccess=a.onImageUploadSuccess.bind(Object(m.a)(a)),a.onImageUploadError=a.onImageUploadError.bind(Object(m.a)(a)),a.onImageUploadProgress=a.onImageUploadProgress.bind(Object(m.a)(a)),a.openModal=a.openModal.bind(Object(m.a)(a)),a.closeModal=a.closeModal.bind(Object(m.a)(a)),a.createIssue=a.createIssue.bind(Object(m.a)(a)),a.updateIssue=a.updateIssue.bind(Object(m.a)(a)),a.onDeleteIssueError=a.onDeleteIssueError.bind(Object(m.a)(a)),a.onDeleteIssueSuccess=a.onDeleteIssueSuccess.bind(Object(m.a)(a)),a.deleteIssue=a.deleteIssue.bind(Object(m.a)(a)),a.imgChange=a.imgChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a.handleFilterChange=a.handleFilterChange.bind(Object(m.a)(a)),a.handleSortChange=a.handleSortChange.bind(Object(m.a)(a)),a.titleInput=s.a.createRef(),a.detailsInput=s.a.createRef(),a.priorityInput=s.a.createRef(),a.statusInput=s.a.createRef(),a.imgInput=s.a.createRef(),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){H.GetAllIssues(this.state.sortByPriority,this.onGetAllIssuesSuccess,this.onGetAllIssuesError)}},{key:"checkCurrentIssue",value:function(e,t,a,n){return e.selectFilter.indexOf(n)>-1&&(""!==e.inputFilter&&(t.indexOf(e.inputFilter)>-1||a.indexOf(e.inputFilter)>-1)||""===e.inputFilter)}},{key:"filterIssues",value:function(e,t,a){for(var n=0;n<t.length;n++){var s=t[n].get("title").toUpperCase(),r=t[n].get("details").toUpperCase(),l=t[n].get("priority").toUpperCase();this.checkCurrentIssue(e,s,r,l)&&a.push(t[n])}}},{key:"handleFilterChange",value:function(e){var t;t=e.target;var a=this.state.filter.inputFilter,n=this.state.filter.selectFilter,s=[];"INPUT"===t.tagName?a=t.value.toUpperCase():"SELECT"===t.tagName&&(n=t.value);var r={inputFilter:a,selectFilter:n};this.setState({filter:r}),this.filterIssues(r,this.state.issues,s),this.setState({filteredIssues:s})}},{key:"handleSortChange",value:function(e){this.setState({sortByPriority:e}),H.GetAllIssues(e,this.onGetAllIssuesSuccess,this.onGetAllIssuesError)}},{key:"onImageUploadSuccess",value:function(e){var t=e;this.setState({currentIssueImage:t})}},{key:"onImageUploadError",value:function(e){}},{key:"onImageUploadProgress",value:function(e){document.getElementById("image_progress").innerHTML=e<100?"Image Uploading: "+e+"%":"Image Uploaded Successfully"}},{key:"imgChange",value:function(e){var t={};t.file=e.target.files[0],t.file?G.UploadImage(t.file,this.onImageUploadProgress,this.onImageUploadSuccess,this.onImageUploadError):t.URL=""}},{key:"handleSubmit",value:function(e){var t=e.target;this.setState({validated:!0}),e.preventDefault(),e.stopPropagation(),!0===t.checkValidity()&&("New Issue"===this.state.modalTrigger?this.createIssue():this.updateIssue())}},{key:"openModal",value:function(e,t){var a,n,s=e.target.innerHTML,r="",l="",i="",o="",c="";"Update"===s?(s="Update Issue",a="show",r=t.get("title"),l=t.get("details"),i=t.get("priority"),o=t.get("status"),c=t.get("image"),n=t.id):a="hide",this.setState({showModal:!0,showStatusSelect:a,modalTrigger:s,currentIssueId:n,currentIssueTitle:r,currentIssueDetails:l,currentIssuePriority:i,currentIssueStatus:o,currentIssueImage:c})}},{key:"closeModal",value:function(){this.setState({currentIssueId:null,currentIssueImage:null,showModal:!1,validated:!1,issueError:!1})}},{key:"onCreateIssueSuccess",value:function(e,t){H.GetAllIssues(this.state.sortByPriority,this.onGetAllIssuesSuccess,this.onGetAllIssuesError)}},{key:"onCreateIssueError",value:function(e){}},{key:"createIssue",value:function(){var e=H.GetIssue();e.set("title",this.titleInput.current.value),e.set("details",this.detailsInput.current.value),e.set("priority",this.priorityInput.current.value),e.set("status",this.statusInput.current.value),e.set("image",this.state.currentIssueImage),H.CreateIssue(e,this.onCreateIssueSuccess,this.onCreateIssueError),this.closeModal()}},{key:"updateIssue",value:function(){var e=H.GetIssue();e.set("title",this.titleInput.current.value),e.set("details",this.detailsInput.current.value),e.set("priority",this.priorityInput.current.value),e.set("status",this.statusInput.current.value),e.set("image",this.state.currentIssueImage),H.UpdateIssue(this.state.currentIssueId,e,this.onCreateIssueSuccess,this.onCreateIssueError),this.closeModal()}},{key:"onDeleteIssueSuccess",value:function(e,t){H.GetAllIssues(this.state.sortByPriority,this.onGetAllIssuesSuccess,this.onGetAllIssuesError)}},{key:"onDeleteIssueError",value:function(e){}},{key:"deleteIssue",value:function(e){H.DeleteIssue(e.id,this.onDeleteIssueSuccess,this.onDeleteIssueError),this.closeModal()}},{key:"onGetAllIssuesSuccess",value:function(e){var t=[],a=!1;e.length>0&&(a=!0),null!==this.state.filter&&this.filterIssues(this.state.filter,e,t),this.setState({issues:e,filteredIssues:t,hasRecords:a})}},{key:"onGetAllIssuesError",value:function(e){}},{key:"render",value:function(){var e=null;e=null==this.state.issues?"Loading...":s.a.createElement(te,{hasRecords:this.state.hasRecords,recordType:"issues",records:this.state.filteredIssues,openModal:this.openModal,deleteIssue:this.deleteIssue});var t=this.state,a=t.showModal,n=t.currentIssueImage,r=""===n?"./images/placeholder-square.jpg":G.GetImageUrl(n),l="New Issue"===this.state.modalTrigger?s.a.createElement(E.a,{variant:"primary",type:"submit"},"Create Issue"):s.a.createElement(E.a,{variant:"primary",type:"submit"},"Update Issue");return s.a.createElement("div",{className:"Issues h-100"},s.a.createElement(y.a,{className:"py-6 px-5 mobile-padding"},s.a.createElement(D,{filterType:"issues",handleFilterChange:this.handleFilterChange,handleSortChange:this.handleSortChange}),s.a.createElement("div",{className:"text-right pt-4 pb-1 mobile-center"},s.a.createElement(E.a,{variant:"link",className:"new-btn",onClick:this.openModal},"New Issue")),e),s.a.createElement(ae.a,{show:a,onHide:this.closeModal,size:"lg"},s.a.createElement(O.a,{className:"issueModalFrm",noValidate:!0,validated:this.state.validated,onSubmit:this.handleSubmit},s.a.createElement(ae.a.Header,{closeButton:!0},s.a.createElement(ae.a.Title,null,this.state.modalTrigger)),s.a.createElement(ae.a.Body,null,s.a.createElement(j.a,{variant:"danger",show:this.state.issueError},this.state.errorMsg),s.a.createElement(O.a.Group,{as:F.a,controlId:"formNameTxt"},s.a.createElement(O.a.Label,{column:!0,sm:2},"Title:"),s.a.createElement(f.a,{sm:10},s.a.createElement(O.a.Control,{type:"text",ref:this.titleInput,defaultValue:this.state.currentIssueTitle,pattern:"([a-zA-Z0-9]{1,20}\\s?){1,10}",required:!0}),s.a.createElement(O.a.Control.Feedback,{type:"invalid"}))),s.a.createElement(O.a.Group,{as:F.a,controlId:"formDetailsTxt"},s.a.createElement(O.a.Label,{column:!0,sm:2},"Details:"),s.a.createElement(f.a,{sm:10},s.a.createElement(O.a.Control,{ref:this.detailsInput,defaultValue:this.state.currentIssueDetails,as:"textarea",rows:"3"}),s.a.createElement(O.a.Control.Feedback,{type:"invalid"}))),s.a.createElement(O.a.Group,{as:F.a,controlId:"formPrioritySelect"},s.a.createElement(O.a.Label,{column:!0,sm:2},"Priority:"),s.a.createElement(f.a,{sm:10},s.a.createElement(O.a.Control,{ref:this.priorityInput,defaultValue:this.state.currentIssuePriority,as:"select",className:"priority-select",required:!0},s.a.createElement("option",{value:"1"},"Normal"),s.a.createElement("option",{value:"2"},"Important"),s.a.createElement("option",{value:"3"},"Urgent")))),s.a.createElement(O.a.Group,{as:F.a,controlId:"formImgControl",className:"align-items-center"},s.a.createElement(O.a.Label,{column:!0,sm:2},"Image URL:"),s.a.createElement(f.a,{sm:7},s.a.createElement("div",{className:"custom-file"},s.a.createElement("input",{ref:this.imgInput,type:"file",className:"custom-file-input",id:"customFile",accept:"image/*",onChange:this.imgChange}),s.a.createElement("p",{id:"image_progress"}),s.a.createElement("label",{className:"custom-file-label",htmlFor:"customFile"},"Choose image"))),s.a.createElement(f.a,{sm:3},s.a.createElement(ne.a,{src:r,fluid:!0,className:"thumbnail"}))),s.a.createElement(O.a.Group,{as:F.a,controlId:"formStatusSelect",className:this.state.showStatusSelect},s.a.createElement(O.a.Label,{column:!0,sm:2},"Status:"),s.a.createElement(f.a,{sm:10},s.a.createElement(O.a.Control,{ref:this.statusInput,defaultValue:this.state.currentIssueStatus,as:"select",className:"status-select"},s.a.createElement("option",{value:"open"},"Open"),s.a.createElement("option",{value:"closed"},"Closed"))))),s.a.createElement(ae.a.Footer,null,s.a.createElement(E.a,{variant:"secondary",onClick:this.closeModal},"Close"),l))))}}]),t}(s.a.Component),oe=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e="CommitteeDashboard"===this.props.pageName?s.a.createElement(F.a,{className:"text-center py-3"},s.a.createElement(f.a,{className:"pb-4",lg:4},s.a.createElement("h6",null,"Voting Title1"),s.a.createElement("p",{className:"mb-1 font-weight-normal"},"By: Date"),s.a.createElement(Y.a,{className:"chart",data:[{title:"For",value:80,color:"#90ee90"},{title:"Against",value:20,color:"#a2012c"}]})),s.a.createElement(f.a,{className:"pb-4",lg:4},s.a.createElement("h6",null,"Voting Title1"),s.a.createElement("p",{className:"mb-1 font-weight-normal"},"By: Date"),s.a.createElement(Y.a,{className:"chart",data:[{title:"For",value:80,color:"#90ee90"},{title:"Against",value:20,color:"#a2012c"}]})),s.a.createElement(f.a,{className:"chartBox",lg:4},s.a.createElement("h6",null,"Voting Title1"),s.a.createElement("p",{className:"mb-1 font-weight-normal"},"By: Date"),s.a.createElement(Y.a,{className:"chart",data:[{title:"For",value:80,color:"#90ee90"},{title:"Against",value:20,color:"#a2012c"}]}))):s.a.createElement(F.a,{className:"text-center"},s.a.createElement(f.a,{className:"chartBox",lg:12},s.a.createElement("h6",null,"Voting Title1"),s.a.createElement("p",{className:"mb-1 font-weight-normal"},"By: Date"),s.a.createElement(Y.a,{className:"chart",data:[{title:"For",value:80,color:"#90ee90"},{title:"Against",value:20,color:"#a2012c"}]})));return s.a.createElement("div",{className:"w-100"}," ",e," ")}}]),t}(s.a.Component),ce=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("p",{className:"noRecordsMsg"},"There are no ",this.props.recordType,". :)")}}]),t}(s.a.Component),ue=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.hasRecords?s.a.createElement(oe,{pageName:this.props.pageName}):s.a.createElement(ce,{recordType:this.props.recordType})}}]),t}(s.a.Component),me=a(102),de=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(y.a,{fluid:!0,className:"px-4"},s.a.createElement(F.a,{className:"pb-2"},s.a.createElement(f.a,{lg:6,className:"issue-box"},s.a.createElement("h2",null,"New Reported Issues ",s.a.createElement(me.a,{variant:"light"},"0")),s.a.createElement(te,{hasRecords:!0,recordType:"new issues"})),s.a.createElement(f.a,{lg:6},s.a.createElement("h2",null,"Overdue Issues ",s.a.createElement(me.a,{variant:"light"},"9")),s.a.createElement(te,{hasRecords:!0,recordType:"overdue issues"}))),s.a.createElement(F.a,{className:"pt-3 border-top"},s.a.createElement(f.a,null,s.a.createElement("h2",null,"Active Voting Percentage"),s.a.createElement(ue,{hasRecords:!0,recordType:"active votings",pageName:"CommitteeDashboard"}))))}}]),t}(s.a.Component),ge=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(y.a,{fluid:!0,className:"px-4"},s.a.createElement(F.a,{className:"pb-2"},s.a.createElement(f.a,{lg:6,className:"issue-box"},s.a.createElement("h2",null,"New Messages ",s.a.createElement(me.a,{variant:"light"},"0")),s.a.createElement(te,{hasRecords:!0,recordType:"new messages"})),s.a.createElement(f.a,{lg:6},s.a.createElement("h2",null,"Pending Votings ",s.a.createElement(me.a,{variant:"light"},"9")),s.a.createElement(te,{hasRecords:!0,recordType:"pending votings"}))),s.a.createElement(F.a,{className:"pt-3 border-top"},s.a.createElement(f.a,{className:"issue-box",lg:4},s.a.createElement("h2",{className:"mb-4"},"Voting Results"),s.a.createElement(ue,{hasRecords:!0,recordType:"voting results",pageName:"TenantDashboard"})),s.a.createElement(f.a,{className:"issue-box",lg:4},s.a.createElement("h2",null,"New Issues ",s.a.createElement(me.a,{variant:"light"},"2")),s.a.createElement(te,{hasRecords:!0,recordType:"new issues"})),s.a.createElement(f.a,{lg:4},s.a.createElement("h2",null,"New Resolved Issues ",s.a.createElement(me.a,{variant:"light"},"3")),s.a.createElement(te,{hasRecords:!0,recordType:"new resolved issues"}))))}}]),t}(s.a.Component),he=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e="admin"===this.props.userType?s.a.createElement(de,null):s.a.createElement(ge,null);return s.a.createElement("div",{className:"Dashboard h-100"},e)}}]),t}(s.a.Component),pe=a(136),Ee=a(56),be=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleLogout=a.handleLogout.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleLogout",value:function(e){this.props.handleLogout()}},{key:"render",value:function(){var e=this.props.isLoggedIn?"App-logo-inner":"App-logo",t=this.props.isLoggedIn;return s.a.createElement(pe.a,{fixed:"top",collapseOnSelect:!0,expand:"lg"},s.a.createElement(F.a,{className:"w-100"},s.a.createElement(f.a,{lg:1,sm:4,xs:4},s.a.createElement(pe.a.Brand,{href:"#/"},s.a.createElement("img",{className:e,src:"./images/homeboy.png",alt:"Homeboy - Your Buddy In Da Building"}))),s.a.createElement(f.a,{lg:11,sm:4,xs:4,className:"px-0"},s.a.createElement(pe.a.Collapse,{id:"responsive-navbar-nav"},s.a.createElement(Ee.a,{className:t?"mr-auto":"hide"},s.a.createElement(Ee.a.Link,{href:"#/Dashboard"},"Dashboard"),s.a.createElement(Ee.a.Link,{href:"#/Tenants"},"Tenants"),s.a.createElement(Ee.a.Link,{href:"#/Messages"},"Messages"),s.a.createElement(Ee.a.Link,{href:"#/Issues"},"Issues"),s.a.createElement(Ee.a.Link,{href:"#/Votings"},"Voting")),s.a.createElement(Ee.a,{className:t?"hide":"ml-auto"},s.a.createElement(Ee.a.Link,{href:"#/Login"},"Login"),s.a.createElement(Ee.a.Link,{eventKey:2,href:"#/SignUp"},"Sign Up")),s.a.createElement(Ee.a,{className:t?"ml-auto":"hide"},s.a.createElement(Ee.a.Link,{onClick:this.handleLogout},"Logout")))),s.a.createElement(f.a,{sm:4,xs:4,className:"text-right px-0"},s.a.createElement(pe.a.Toggle,{"aria-controls":"responsive-navbar-nav"}))))}}]),t}(s.a.Component),ve=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={activeUser:null,isLoggedIn:k.IsLoggedIn(),activePage:"Home",userType:k.IsLoggedIn()?k.GetCurrentUserType():null},a.handleLogin=a.handleLogin.bind(Object(m.a)(a)),a.handleLogout=a.handleLogout.bind(Object(m.a)(a)),a.handleLogoutSuccess=a.handleLogoutSuccess.bind(Object(m.a)(a)),a.handleLogoutError=a.handleLogoutError.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleLogin",value:function(){this.setState({isLoggedIn:!0,userType:k.GetCurrentUserType()})}},{key:"handleLogout",value:function(){k.LogOut(this.handleLogoutSuccess,this.handleLogoutError)}},{key:"handleLogoutSuccess",value:function(){this.setState({isLoggedIn:!1,userType:null})}},{key:"handleLogoutError",value:function(){}},{key:"render",value:function(){var e=this.state.activeUser,t=this.state.isLoggedIn?s.a.createElement(h.a,{to:"/Dashboard"}):s.a.createElement(U,{handleLogin:this.handleLogin}),a=this.state.isLoggedIn?s.a.createElement(h.a,{to:"/Dashboard"}):s.a.createElement(M,{handleLogin:this.handleLogin,isLoggedIn:this.state.isLoggedIn}),n=this.state.isLoggedIn?s.a.createElement(h.a,{to:"/Dashboard"}):s.a.createElement(C,null),r=this.state.isLoggedIn?s.a.createElement(ie,{activeUser:e,handleLogout:this.handleLogout,isLoggedIn:this.state.isLoggedIn}):s.a.createElement(h.a,{to:"/Login"}),l=this.state.isLoggedIn?s.a.createElement(se,{activeUser:e,handleLogout:this.handleLogout,isLoggedIn:this.state.isLoggedIn}):s.a.createElement(h.a,{to:"/Login"}),i=this.state.isLoggedIn?s.a.createElement(he,{userType:this.state.userType,activeUser:e,handleLogout:this.handleLogout,isLoggedIn:this.state.isLoggedIn}):s.a.createElement(h.a,{to:"/Login"}),o=this.state.isLoggedIn?s.a.createElement(re,{activeUser:e,handleLogout:this.handleLogout,isLoggedIn:this.state.isLoggedIn}):s.a.createElement(h.a,{to:"/Login"}),c=this.state.isLoggedIn?s.a.createElement(le,{activeUser:e,handleLogout:this.handleLogout,isLoggedIn:this.state.isLoggedIn}):s.a.createElement(h.a,{to:"/Login"}),u=s.a.createElement(be,{isLoggedIn:this.state.isLoggedIn,handleLogout:this.handleLogout});return s.a.createElement("div",{className:"App"},s.a.createElement(g.a,null,s.a.createElement(h.d,null,s.a.createElement(h.b,{exact:!0,path:"/"},u,n),s.a.createElement(h.b,{path:"/Login"},a),s.a.createElement(h.b,{path:"/Issues"},u,r),s.a.createElement(h.b,{path:"/Messages"},u,l),s.a.createElement(h.b,{path:"/SignUp"},t),s.a.createElement(h.b,{path:"/Dashboard"},u,i),s.a.createElement(h.b,{path:"/Tenants"},u,o),s.a.createElement(h.b,{path:"/Votings"},u,c))))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[295,1,2]]]);
//# sourceMappingURL=main.228a851b.chunk.js.map